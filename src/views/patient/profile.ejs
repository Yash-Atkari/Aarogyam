<%- layout("./layouts/patientboilerplate") %>

<!-- Link to external CSS -->
<link rel="stylesheet" href="/css/patient/profile.css">

<div class="container">
    <form action="/patient/profile/<%= patient._id %>" method="POST" class="form-container needs-validation" novalidate>
        <div class="row">
          <div class="col-12">
            <h1 class="fs-2">Update Profile</h1>
          </div>
        </div>

        <!-- Full Name -->
        <div class="mb-3">
          <label for="fullName" class="form-label">Full Name<span class="text-danger">*</span></label>
          <input type="text" name="patient[fullName]" id="fullName" value="<%= patient.fullName %>" placeholder="Enter full name" class="form-control" required>
          <div class="invalid-feedback">Please provide your Full Name.</div>
        </div>

        <!-- Email -->
        <div class="mb-3">
          <label for="email" class="form-label">Email<span class="text-danger">*</span></label>
          <input type="email" name="patient[email]" id="email" value="<%= patient.email %>" placeholder="Enter email" class="form-control" disabled required>
          <div class="invalid-feedback">Please provide a valid email.</div>
        </div>

        <div class="row">
          <!-- Gender -->
          <div class="mb-3 col-md-6">
            <label for="gender" class="form-label">Gender<span class="text-danger">*</span></label>
            <select name="patient[gender]" id="gender" class="form-control" required>
              <option value="">Select Gender</option>
              <option value="male" <%= patient.gender === 'male' ? 'selected' : '' %>>Male</option>
              <option value="female" <%= patient.gender === 'female' ? 'selected' : '' %>>Female</option>
              <option value="other" <%= patient.gender === 'other' ? 'selected' : '' %>>Other</option>
            </select>
            <div class="invalid-feedback">Please select a gender.</div>
          </div>

          <!-- Age -->
          <div class="mb-3 col-md-6">
            <label for="age" class="form-label">Age<span class="text-danger">*</span></label>
            <input type="number" name="patient[age]" id="age" value="<%= patient.age %>" placeholder="Enter age" class="form-control" required>
            <div class="invalid-feedback">Please provide your age.</div>
          </div>
        </div>
      
        <div class="row">
          <!-- Height -->
          <div class="mb-3 col-md-6">
            <label for="height" class="form-label">Height (cm)</label>
            <input type="number" name="patient[height]" id="height" value="<%= patient.height %>" placeholder="Enter height in cm" class="form-control">
          </div>

          <!-- Weight -->
          <div class="mb-3 col-md-6">
            <label for="weight" class="form-label">Weight (kg)</label>
            <input type="number" name="patient[weight]" id="weight" value="<%= patient.weight %>" placeholder="Enter weight in kg" class="form-control">
          </div>
        </div>
      
        <!-- Blood Type -->
        <div class="mb-3">
          <label for="bloodType" class="form-label">Blood Type</label>
          <select name="patient[bloodType]" id="bloodType" class="form-control" required>
            <option value="">Select Blood Type</option>
            <option value="A+"  <%= patient.bloodType === 'A+'  ? 'selected' : '' %>>A+</option>
            <option value="A-"  <%= patient.bloodType === 'A-'  ? 'selected' : '' %>>A-</option>
            <option value="B+"  <%= patient.bloodType === 'B+'  ? 'selected' : '' %>>B+</option>
            <option value="B-"  <%= patient.bloodType === 'B-'  ? 'selected' : '' %>>B-</option>
            <option value="O+"  <%= patient.bloodType === 'O+'  ? 'selected' : '' %>>O+</option>
            <option value="O-"  <%= patient.bloodType === 'O-'  ? 'selected' : '' %>>O-</option>
            <option value="AB+" <%= patient.bloodType === 'AB+' ? 'selected' : '' %>>AB+</option>
            <option value="AB-" <%= patient.bloodType === 'AB-' ? 'selected' : '' %>>AB-</option>
          </select>
        </div>

        <div class="row">
          <!-- Phone -->
          <div class="mb-3 col-md-6">
            <label for="phone" class="form-label">Phone</label>
            <input type="text" name="patient[phone]" id="phone" value="<%= patient.phone %>" placeholder="Enter phone number" class="form-control">
          </div>

          <!-- Address -->
          <div class="mb-3 col-md-6">
            <label for="address" class="form-label">Address</label>
            <input type="text" name="patient[address]" id="address" value="<%= patient.address %>" placeholder="Enter address" class="form-control">
          </div>
        </div>

        <button type="submit" class="btn btn-primary">Update Profile</button>
    </form>
</div>
