<%- layout("layouts/patientboilerplate") %>

<div class="container" style="max-width: 1200px; margin-left: 280px;">
    <div class="text-center text-md-start">
        <h2 style="font-weight: 700;">Hi there, I'm your mental wellness companion.</h2>
        <p style="font-family: 'Helvetica', sans-serif;">How are you feeling today? I'm here to help.</p>
    </div>    

    <!-- Chat box -->
    <div class="chat-box mb-3 p-3 rounded shadow-sm" id="chat-box" style="height: 500px; overflow-y: auto; background-color: #f8f9fa;">
        <!-- Messages will appear here -->
    </div>

    <!-- Input form -->
    <div class="chat-container">
        <form id="chat-form" class="d-flex">
            <input type="text" id="message" class="form-control rounded-pill px-3" placeholder="Type your message..." required>
            <button type="submit" class="btn btn-primary rounded-pill ms-2">
                <i class="fas fa-paper-plane"></i>
            </button>
        </form>
    </div>
</div>

<script src="/script.js"></script>

<style>
    body {
        background-color: #e9ecef;
        font-family: 'Helvetica', sans-serif;
    }

    .chat-message {
        max-width: 75%;
        padding: 12px 16px;
        border-radius: 20px;
        word-wrap: break-word;
        font-size: 0.95rem;
        line-height: 1.4;
    }

    .chat-message.user {
        align-self: flex-end;
        background-color: #d1e7dd; /* greenish */
        color: #0f5132;
    }

    .chat-message.bot {
        align-self: flex-start;
        background-color: #cfe2ff; /* light blue */
        color: #084298;
        border: 1px solid #b6d4fe;
    }

    @media (max-width: 768px) {
        .container {
            padding: 0 15px;
        }

        .intro h2 {
            font-size: 1.5rem;
        }

        .intro p {
            font-size: 0.95rem;
        }

        #message {
            font-size: 0.9rem;
        }
    }
    
    .bot-message {
        background-color: #d0e7ff;          /* light blue for bot */
        color: #084298;                     /* dark blue text */
        border-radius: 15px;
        padding: 10px 14px;
        margin: 5px 0;
        max-width: 75%;
        align-self: flex-start;
        font-size: 0.95rem;
        box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
    }

    .user-message {
        background-color: #d1e7dd;          /* light green for user */
        color: #0f5132;                     /* dark green text */
        border-radius: 15px;
        padding: 10px 14px;
        margin: 5px 0;
        max-width: 75%;
        align-self: flex-end;
        font-size: 0.95rem;
        box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
    }

    /* Optional: Make chat box scrollable */
    #chat-box {
        display: flex;
        flex-direction: column;
        gap: 8px;
        height: 500px;
        overflow-y: auto;
        padding: 10px;
        background-color: #f8f9fa;
        border-radius: 10px;
    }
</style>
